<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Parent Window</title>
  <style>
    @import url(https://fonts.googleapis.com/css?family=Lato:300italic,700italic,300,700);

    body {
      min-width: 200px;
      text-align: center;
      padding:50px;
      font:14px/1.5 Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
      color:#777;
      font-weight:300;
    }

    h1, h2, h3, h4, h5, h6 {
      color:#222;
      margin:0 0 20px;
    }

    p, ul, ol, table, pre, dl {
      margin:0 0 20px;
    }

    h1, h2, h3 {
      line-height:1.1;
    }

    h1 {
      font-size:28px;
    }

    h2 {
      color:#393939;
    }

    h3, h4, h5, h6 {
      color:#494949;
    }

    a {
      color:#39c;
      font-weight:400;
      text-decoration:none;
    }

    a small {
      font-size:11px;
      color:#777;
      margin-top:-0.6em;
      display:block;
    }

    header {
      width:270px;
      float:left;
      position:fixed;
    }

    iframe {
      width: 100%;
      max-width: 450px;
      height: 200px;
    }

    @media print, screen and (max-width: 960px) {
      header, section, footer {
        float:none;
        position:static;
        width:auto;
      }

      header {
        padding-right:320px;
      }
    }

    @media print, screen and (max-width: 720px) {
      body {
        word-wrap:break-word;
      }

      header {
        padding:0;
      }
    }

    @media print, screen and (max-width: 480px) {
      body {
        padding:15px;
      }
    }

    @media print {
      body {
        padding:0.4in;
        font-size:12pt;
        color:#444;
      }
    }
  </style>
</head>
<body>
  <h1>Parent Window</h1>
  <p>Send Message: <button id="message_button">Hi there iframe</button></p>
  <p>Got Message:</p>
  <div id="results"></div>
  <br/>
  <iframe src="iframe.html" id="iframe"></iframe>

  <script src="../dist/iframe-action-communicator.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var iac = new IframeActionCommunicator('iframe');

      var $messageBtn = document.getElementById('message_button');
      $messageBtn.addEventListener('click', function() {
        iac.send({
          action: 'messageFromParent',
          data: 'Hello I\'m parent'
        });
      }, false);

      iac.on('messageFromIframe', function(data) {
        console.log('messageFromIframe:', data);
      })
    });
  </script>
</body>
</html>
